<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Forgot Password</title>

  <!-- CSS load order: globals → header/footer → page-specific -->
   <!--Global Style Sheet Refrence-->
  <link rel="stylesheet" href="/src/main/resources/static/css/global_styles.css">
  <!--Header Style sheet refrence-->
  <link rel="stylesheet" href="/src/main/resources/static/css/header.css">
  <!--Footer stylesheet refrence-->
  <link rel="stylesheet" href="/src/main/resources/static/css/footer.css">
  <!--Forgot password stylesheet refrence-->
  <link rel="stylesheet" href="/src/main/resources/static/css/forgot.css">

  <!-- Firebase -->
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
   <script src="https://kit.fontawesome.com/e86c5767fd.js" crossorigin="anonymous"></script>
</head>

<body class="forgot">
  <!-- Header (use your existing header markup/styles) -->
  <div id="header-placeholder"></div>

  <!-- Main auth area -->
  <main class="auth-main">
    <form class="auth-card" onsubmit="event.preventDefault(); resetPassword();">
      <h2>Forgot Password</h2>
      <p class="hint">Enter your email and we’ll send you a reset link.</p>

      <div class="form-row">
        <input type="email" id="email" placeholder="Enter your email" class="input" required />
      </div>

      <div class="actions">
        <button class="btn btn-primary" type="submit">Send Reset Link</button>
        <a href="/src/main/resources/static/pages/login.html" class="link">← Back to Login</a>
      </div>

      <div id="msg" class="msg" hidden></div>
    </form>
  </main>

  <!-- Footer -->
  <div id="footer-placeholder"></div>

  <script src="/src/main/resources/static/js/header-scripts.js"></script>
  <script src="/src/main/resources/static/js/footer-scripts.js"></script>
  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyBh4BFKdvlBB8zanunGXVWYo7Azvy47RsI",
      authDomain: "devops-auth-demo.firebaseapp.com",
      projectId: "devops-auth-demo",
      storageBucket: "devops-auth-demo.appspot.com",
      messagingSenderId: "684737269225",
      appId: "1:684737269225:web:c9b4cb838d5cabf5884f78",
      measurementId: "G-KTLQDZDZD3"
    };
    firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();

    function resetPassword() {
      const email = document.getElementById("email").value;
      const msgBox = document.getElementById("msg");
      if (!email) {
        msgBox.textContent = "⚠️ Please enter your email.";
        msgBox.className = "msg error"; msgBox.hidden = false; return;
      }
      auth.sendPasswordResetEmail(email)
        .then(() => { msgBox.textContent = "✅ Password reset email sent!"; msgBox.className = "msg success"; msgBox.hidden = false; })
        .catch((err) => { msgBox.textContent = "❌ " + err.message; msgBox.className = "msg error"; msgBox.hidden = false; });
    }
  </script>
</body>
</html>
